{% extends "admin/layout.html" %}

{% block title %}Edit News Item - E-Looc Admin{% endblock %}

{% block content %}

<div class="container-fluid"> <div class="d-flex justify-content-between align-items-center mb-4"> <h1 class="h3 text-gray-800">Edit News Item</h1> <a href="{{ url_for('admin_news') }}" class="btn btn-secondary"> <i class="fas fa-arrow-left me-2"></i> Back to News </a> </div> <div class="card"> <div class="card-body"> <form action="{{ url_for('admin_edit_news', id=news.id) }}" method="POST" enctype="multipart/form-data"> <div class="mb-3"> <label for="title" class="form-label">Title</label> <input type="text" class="form-control" id="title" name="title" value="{{ news.title }}" required> </div>
    <div class="mb-3">
      <label for="content" class="form-label">Content</label>
      <textarea class="form-control" id="content" name="content" rows="6" required>{{ news.content }}</textarea>
    </div>
   {% if news.image_url %}
   <div class="mb-3">
     <label class="form-label">Current Image:</label><br>
     <img src="{{ news.image_url }}" alt="Current News Image" style="max-width: 200px; max-height: 200px; margin-bottom: 10px;">
     <div class="form-check">
       <input type="checkbox" class="form-check-input" id="remove_image" name="remove_image" value="true">
       <label class="form-check-label" for="remove_image">Remove current image</label>
     </div>
   </div>
   {% endif %}
   <div class="mb-3">
     <label for="image" class="form-label">Upload New Image (Optional):</label>
     <input
       type="file"
       name="image"
       id="image"
       class="form-control"
       accept="image/jpeg,image/jpg,image/png"
     />
   </div>
    <div class="mb-3 form-check">
      <input type="checkbox" class="form-check-input" id="is_active" name="is_active" {% if news.is_active %}checked{% endif %}>
      <label class="form-check-label" for="is_active">Active</label>
    </div>
    
    <button type="submit" class="btn btn-primary">
      <i class="fas fa-save me-2"></i> Update News Item
    </button>
  </form>
</div>
</div> </div> {% endblock %}
